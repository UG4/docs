<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ug4: ug4-Registry</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="extra_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ug4
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('page_u_g4_registry.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">ug4-Registry </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#secSTHowToRegister">How to register Functionality</a></li>
<li class="level1"><a href="#secSTHowToRegisterFunctions">How to register Global Functions</a></li>
<li class="level1"><a href="#secSTHowToRegisterClasses">How to register Classes and Methods</a></li>
<li class="level1"><a href="#secSTHowToSpecifyParameterInformation">How to specify additional information</a></li>
<li class="level1"><a href="#secSTSupportedTypes">Supported and not supported types</a></li>
<li class="level1"><a href="#secSTHowToSpecifyVRLInformation">How to specify VRL information for parameters</a><ul><li class="level2"><a href="#secParamStrings">Syntax</a></li>
<li class="level2"><a href="#secParamStringsAvaliableOptions">Available styles and options</a><ul><li class="level3"><a href="#secParamStringsName">Name</a></li>
<li class="level3"><a href="#secParamStringsStyle">Style</a></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><a href="#secSTHowToRegisterBaseClasses">How to register Base Classes</a></li>
<li class="level1"><a href="#secSTHowToRegisterOverloadedFunctions">How to register Overloaded Functions</a></li>
<li class="level1"><a href="#secSTHowToRegisterOverloadedMethods">How to register Overloaded Methods</a></li>
<li class="level1"><a href="#secSTHowToRegisterOverloadedConstructors">How to register Overloaded Constructors</a></li>
</ul>
</div>
<div class="textblock"><p>In order to make functionality (such as C++ classes, methods and functions) available in the Lua-Script or the VRL, this functionality must be registered by the C++ programmer. By this registration, the programmer indicates, that the functionality is exported. Once exported the functionality is accessible in Script and VRL simultaneously.</p>
<p>This page gives an introduction to the registration process.</p>
<hr  />
 <h1><a class="anchor" id="secSTHowToRegister"></a>
How to register Functionality</h1>
<p>Registering is done in the <code>*.cpp</code> files in the folder <code>ugbase/ug_bridge/bridges</code>. Here are found several so called <em>bridges</em> that map (bridge) the functionality of different parts of the software project to the script (or VRL).</p>
<p>To understand the usage of the <code>ug::Registry</code>, lets start with the simple and exemplary file <code>test_bridges.cpp</code>. Here, you find several simple test classes and functions, written in normal C++. This functionality is now exported.</p>
<p>The function, where the registration takes place is <code>RegisterTestInterface</code>.</p>
<div class="fragment"><div class="line"><span class="keywordtype">bool</span> RegisterTestInterface(Registry&amp; reg, <span class="keyword">const</span> <span class="keywordtype">char</span>* parentGroup)</div>
<div class="line">  <span class="comment">// get group string</span></div>
<div class="line">  std::stringstream groupString; groupString &lt;&lt; parentGroup &lt;&lt; <span class="stringliteral">&quot;/Test&quot;</span>;</div>
<div class="line">  std::string grp = groupString.str();</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// now groupString is simply &quot;ug4/Test&quot;</span></div>
<div class="line"> </div>
<div class="line">  <span class="comment">// ...</span></div>
<div class="line">}</div>
</div><!-- fragment --><p>This function gets passed the Registry to which all functionality is added. In addition a <em>Group</em> string is added, that can be used to group functionality together. Usually all separated parts (e.g. <em>Grid</em>, <em>Algebra</em>, ...) are grouped, but this is not essential for the registration. (Therefore, lets not stress this point here)</p>
<hr  />
 <h1><a class="anchor" id="secSTHowToRegisterFunctions"></a>
How to register Global Functions</h1>
<p>Now, we come to the point to register a global C++-Function. We start with a very simple example, the famous <em>Hello World</em>. You will find in the file a global Function <code>PrintHelloWorldToScreen</code>: </p><div class="fragment"><div class="line"><span class="comment">// prints &quot;Hello World&quot;</span></div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="group__test__bridge.html#ga7b5eab0cc361523aec951a157013dd1f">PrintHelloWorldToScreen</a>()</div>
<div class="line">{</div>
<div class="line">  <a class="code" href="group__ugbase__common.html#ga849480b16e1d7c49266a92cd5db63942">UG_LOG</a>(<span class="stringliteral">&quot;Hello World !\n&quot;</span>);</div>
<div class="line">}</div>
<div class="ttc" id="agroup__test__bridge_html_ga7b5eab0cc361523aec951a157013dd1f"><div class="ttname"><a href="group__test__bridge.html#ga7b5eab0cc361523aec951a157013dd1f">ug::bridge::PrintHelloWorldToScreen</a></div><div class="ttdeci">void PrintHelloWorldToScreen()</div><div class="ttdef"><b>Definition:</b> test_bridge.cpp:60</div></div>
<div class="ttc" id="agroup__ugbase__common_html_ga849480b16e1d7c49266a92cd5db63942"><div class="ttname"><a href="group__ugbase__common.html#ga849480b16e1d7c49266a92cd5db63942">UG_LOG</a></div><div class="ttdeci">#define UG_LOG(msg)</div><div class="ttdef"><b>Definition:</b> log.h:367</div></div>
</div><!-- fragment --><p>In order to export this global function, you must use the syntax </p><div class="fragment"><div class="line">reg.add_function( <span class="stringliteral">&quot;NameAppearingInScript&quot;</span>, Pointer to Function, ... )</div>
</div><!-- fragment --><p>For the <em>Hello World</em> function this reads: </p><div class="fragment"><div class="line"><span class="comment">// registering hello world</span></div>
<div class="line">reg.add_function(<span class="stringliteral">&quot;PrintHelloWorld&quot;</span>, &amp;<a class="code" href="group__test__bridge.html#ga7b5eab0cc361523aec951a157013dd1f">PrintHelloWorldToScreen</a>);</div>
</div><!-- fragment --><p>Now, you can call this function in the Script. So, start the ug shell in your terminal:</p>
<pre class="fragment">user$ ./ugshell 
********************************************************************************
* ugshell - v4.0.1                                                             *
*                                                                              *
* arguments:                                                                   *
*   -outproc id:         Sets the output-proc to id. Default is 0.             *
*   -ex scriptname:      Executes the specified script.                        *
*   -noquit:             Runs the interactive shell after specified script.    *
*   -noterm:             Terminal logging will be disabled.                    *
*   -logtofile filename: Output will be written to the specified file.         *
* Additional parameters are passed to the script through ugargc and ugargv.    *
********************************************************************************
ug:&gt; 
</pre><p>Now, just type the function: </p><pre class="fragment">ug:&gt; PrintHelloWorld()
Hello World !
ug:&gt; 
</pre><hr  />
 <h1><a class="anchor" id="secSTHowToRegisterClasses"></a>
How to register Classes and Methods</h1>
<p>C++-Classes and their methods are registered similarly. Lets focus on the example class "Test":</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>Test</div>
<div class="line">{</div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    <span class="keywordtype">int</span> add(<span class="keywordtype">int</span> a, <span class="keywordtype">int</span> b)</div>
<div class="line">    {</div>
<div class="line">      <span class="keywordflow">return</span> a+b;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">int</span> print_name()</div>
<div class="line">    {</div>
<div class="line">      <a class="code" href="group__ugbase__common.html#ga849480b16e1d7c49266a92cd5db63942">UG_LOG</a>(<span class="stringliteral">&quot;Name is Test\n&quot;</span>);</div>
<div class="line">      <span class="keywordflow">return</span> 1;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordtype">int</span> <a class="code" href="group__scripts__util__table.html#ga8ceb72ba6d80f341922c4c0cc8522c4f">print</a>() {<a class="code" href="group__ugbase__common.html#ga849480b16e1d7c49266a92cd5db63942">UG_LOG</a>(<span class="stringliteral">&quot;Test::print()\n&quot;</span>); <span class="keywordflow">return</span> 0;}</div>
<div class="line">    <span class="keywordtype">int</span> <a class="code" href="group__scripts__util__table.html#ga8ceb72ba6d80f341922c4c0cc8522c4f">print</a>()<span class="keyword"> const </span>{<a class="code" href="group__ugbase__common.html#ga849480b16e1d7c49266a92cd5db63942">UG_LOG</a>(<span class="stringliteral">&quot;Test::print() const\n&quot;</span>); <span class="keywordflow">return</span> 1;}</div>
<div class="line">};</div>
<div class="ttc" id="agroup__scripts__util__table_html_ga8ceb72ba6d80f341922c4c0cc8522c4f"><div class="ttname"><a href="group__scripts__util__table.html#ga8ceb72ba6d80f341922c4c0cc8522c4f">print</a></div><div class="ttdeci">function table print(data, style)</div></div>
</div><!-- fragment --><p>This class is registered by </p><div class="fragment"><div class="line"><span class="comment">// register class &quot;Test&quot;</span></div>
<div class="line">reg.add_class_&lt;Test&gt;(<span class="stringliteral">&quot;Test&quot;</span>, grp)</div>
<div class="line">   .add_constructor()</div>
<div class="line">   .add_method(<span class="stringliteral">&quot;add&quot;</span>, &amp;Test::add, <span class="stringliteral">&quot;c&quot;</span>, <span class="stringliteral">&quot;a#b&quot;</span>)</div>
<div class="line">   .add_method(<span class="stringliteral">&quot;print_name&quot;</span>, &amp;Test::print_name);</div>
</div><!-- fragment --><p>The following is done here: </p><ul>
<li>
In <code>add_class_&lt; Class &gt;</code> the exported class is specified </li>
<li>
By <code>Test</code> is specified the name of the class used in the script  </li>
<li>
By <code>.add_constructor()</code> is specified, that the constructor is available in the script.  </li>
<li>
By <code>.add_method("MethodNameInSkript", Pointer to method)</code> a method is exported.  </li>
</ul>
<p>Now, you can create an object of this class from script using the <code>()</code>-Operator: </p><pre class="fragment">ug:&gt; myVariable = Test()
</pre><p>Calling a method of the class is done by using the <code>:</code>-Operator </p><pre class="fragment">ug:&gt; myVariable:print_name()
Name is Test
</pre><hr  />
 <h1><a class="anchor" id="secSTHowToSpecifyParameterInformation"></a>
How to specify additional information</h1>
<p>As shown in the last example, the <code>.add_method()</code> method allows to specify additional parameter related information. This is also true for add_function and add_class:</p>
<div class="fragment"><div class="line">reg.add_function( <span class="stringliteral">&quot;NameAppearingInScript&quot;</span>, PointerToFunction, <span class="stringliteral">&quot;group&quot;</span>, <span class="stringliteral">&quot;returnInformation&quot;</span>, <span class="stringliteral">&quot;paramInformation1#paramInformation2#...&quot;</span>, <span class="stringliteral">&quot;tooltip&quot;</span>, <span class="stringliteral">&quot;help&quot;</span> )</div>
<div class="line">reg.add_class_&lt;ClassName&gt;(<span class="stringliteral">&quot;ClassName&quot;</span>, grp, <span class="stringliteral">&quot;tooltip&quot;</span>)</div>
<div class="line">  .add_method(<span class="stringliteral">&quot;method_name&quot;</span>, &amp;ClassName::method_name, <span class="stringliteral">&quot;returnInformation&quot;</span>, <span class="stringliteral">&quot;paramInformation1#paramInformation2#...&quot;</span>, <span class="stringliteral">&quot;tooltip&quot;</span>, <span class="stringliteral">&quot;help&quot;</span>)</div>
</div><!-- fragment --><p>so the above test class registration should be extended to </p><div class="fragment"><div class="line">reg.add_class_&lt;Test&gt;(<span class="stringliteral">&quot;Test&quot;</span>, grp, <span class="stringliteral">&quot;Test Class for demonstration&quot;</span>)</div>
<div class="line">   .add_constructor()</div>
<div class="line">   .add_method(<span class="stringliteral">&quot;add&quot;</span>, &amp;Test::add, <span class="stringliteral">&quot;a+b&quot;</span>, <span class="stringliteral">&quot;a#b&quot;</span>, <span class="stringliteral">&quot;adds two numbers&quot;</span>)</div>
<div class="line">   .add_method(<span class="stringliteral">&quot;print_name&quot;</span>, &amp;Test::print_name, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;prints the name&quot;</span>);</div>
</div><!-- fragment --><p>notice how we use "" for empty strings like when there's no return value or parameters.</p>
<p>The syntax for the parameter information for N parameters is <code>paramName1#paramName2#paramName3#...#paramNameN"</code>, so you have to seperate the parameters with the hash sign # (see below for additional parameter information).</p>
<p>The additional information you specify can be accessed in various ways: </p><ul>
<li>
The <a href="http://cave1.gcsc.uni-frankfurt.de/job/ug-bridge-doc/javadoc/">ug4 registry docu</a>. See <a href="http://cave1.gcsc.uni-frankfurt.de/job/ug-bridge-doc/javadoc/CGCPU1.html">here</a> for a nice example. </li>
<li>
Autocompletion and hover information in the <a href="http://gcsc.uni-frankfurt.de/Members/mrupp/ug4-auto-completion/">UGIDE</a>. </li>
<li>
In the VRL </li>
<li>
In the ugshell with e.g. <code>CG?</code> or <code>TypeInfo("CG")</code> (also in LUA scripts) </li>
</ul>
<hr  />
 <h1><a class="anchor" id="secSTSupportedTypes"></a>
Supported and not supported types</h1>
<p>Supported Basic Types BT are : </p><div class="fragment"><div class="line">bool, int, size_t, float, double, <span class="keyword">const</span> <span class="keywordtype">char</span> *, std::string</div>
</div><!-- fragment --><p> UT = User Defined Types. <br  />
 pUT = Set consisting of <code>T*, const T*, SmartPtr&lt;T&gt;, ConstSmartPtr&lt;T&gt;</code> of User Defined Types T in UT. <br  />
</p>
<p>Then the supported types for parameters and return values are</p><ul>
<li>all types T in BT or pUT,</li>
<li><code>std::vector&lt;T&gt;, const std::vector&lt;T&gt;</code> of all T in BT or pUT,</li>
</ul>
<dl class="section note"><dt>Note</dt><dd><code>char</code> is not a supported type. use int instead. </dd>
<dd>
<code>std::vector&lt;T&gt;&amp;</code> is not supported</dd></dl>
<hr  />
 <h1><a class="anchor" id="secSTHowToSpecifyVRLInformation"></a>
How to specify VRL information for parameters</h1>
<p>VRL uses a so called <em>style</em> identifier to choose between several possible type representations. As noted above, the parameters are seperated by the hash sign #. Additional <em>options</em> allow to specify range conditions, default values etc.</p>
<hr  />
 <h2><a class="anchor" id="secParamStrings"></a>
Syntax</h2>
<p>Parameter properties can be specified as follows: </p><div class="fragment"><div class="line"><a class="code" href="checkpoint__util_8lua.html#a3c1958e225ed64db3e56badcbdcc8df7">name</a> | style | options</div>
<div class="ttc" id="acheckpoint__util_8lua_html_a3c1958e225ed64db3e56badcbdcc8df7"><div class="ttname"><a href="checkpoint__util_8lua.html#a3c1958e225ed64db3e56badcbdcc8df7">name</a></div><div class="ttdeci">location name</div><div class="ttdef"><b>Definition:</b> checkpoint_util.lua:128</div></div>
</div><!-- fragment --><p>The short form <code>name</code> is also valid if no additional option shall be specified.</p>
<p>An example for return value properties: <code>c|default|min=1;max=10</code>.</p>
<p>For the parameter string an additional separator is used to split the individual parameter properties. Parameters can be separated as follows (seperating two parameters): </p><div class="fragment"><div class="line">name1 | style1 | options1 # name2 | style2 | options2</div>
</div><!-- fragment --><hr  />
 <h2><a class="anchor" id="secParamStringsAvaliableOptions"></a>
Available styles and options</h2>
<h3><a class="anchor" id="secParamStringsName"></a>
Name</h3>
<p>For the name it is safe to specify ASCII strings. Roughly speaking, it is safe to specify strings consisting of letters from the latin alphabet, numbers and characters from the following list: <code>^!"§$%&amp;/()=?*,.-;:_&lt;&gt;@</code> (list may be not complete).</p>
<p>VRL supports simple HTML syntax (most tags from HTML 3.x are supported). Thus, it is possible to request bold or underlined names. Using colors and other enhanced stylings should not be used as this will most likely conflict with the VRL interface styles because in this case VRL cannot automatically change the text color accordingly.</p>
<dl class="section note"><dt>Note</dt><dd>Special characters and control characters, such as <code>\n</code> are not supported. The characters <code>|</code> and <code>#</code> must not be used either.</dd></dl>
<hr  />
 <h3><a class="anchor" id="secParamStringsStyle"></a>
Style</h3>
<p>VRL uses a so called <em>style identifier</em> to choose between type representations. The most relevant type representations for UG are listed below (more details can be found in the VRL API documentation):</p>
<hr  />
<p> <b>Type representations for the <em>number</em> type:</b></p><ul>
<li>style identifier: <code>default</code></li>
<li>possible options: <code>min</code>, <code>max</code>, <code>value</code></li>
<li>example string: <code>Double|default|min=1D;max=100D;value=50D</code></li>
</ul>
<div class="image">
<img src="double-default-01.png" alt=""/>
</div>
<hr  />
<p> <b>Type representations for the <em>integer</em> type:</b></p><ul>
<li>style identifier: <code>default</code></li>
<li>possible options: <code>min</code>, <code>max</code>, <code>value</code></li>
<li>example string: <code>Integer|default|min=1;max=100;value=50</code></li>
</ul>
<div class="image">
<img src="integer-default-01.png" alt=""/>
</div>
<hr  />
<ul>
<li>style identifier: <code>slider</code></li>
<li>possible options: <code>min</code>, <code>max</code></li>
<li>example string: <code>Integer|slider|min=1;max=255</code></li>
</ul>
<div class="image">
<img src="integer-slider-01.png" alt=""/>
</div>
<hr  />
<ul>
<li>style identifier: <code>selection</code></li>
<li>possible options: <code>min</code>, <code>max</code></li>
<li>example string: <code>Integer|selection|value=[1,2,3]</code></li>
</ul>
<div class="image">
<img src="selection-integer-01.png" alt=""/>
</div>
<hr  />
<p> <b>Type representations for the <em>string</em> type:</b></p><ul>
<li>style identifier: <code>default</code></li>
<li>possible options: - none -</li>
<li>example string: <code>String|default</code></li>
</ul>
<div class="image">
<img src="string-default-01.png" alt=""/>
</div>
<hr  />
<ul>
<li>style identifier: <code>load-dialog</code> or <code>save-dialog</code></li>
<li>possible options: <code>endings</code>, <code>description</code></li>
<li>example string: <code>"File Name|load-dialog|endings=[\"png\",\"jpg\"];description=\"Image-Files\"</code></li>
</ul>
<div class="image">
<img src="load-dialog-01.png" alt=""/>
</div>
<p> <br  />
 </p><div class="image">
<img src="load-dialog-02.png" alt=""/>
</div>
<hr  />
<ul>
<li>style identifier: <code>selection</code></li>
<li>possible options: <code>value</code></li>
<li>example string: <code>String|selection|value=["string1\",\"string2\"]</code></li>
</ul>
<div class="image">
<img src="selection-string-01.png" alt=""/>
</div>
<hr  />
 <h1><a class="anchor" id="secSTHowToRegisterBaseClasses"></a>
How to register Base Classes</h1>
<p>Class hierarchies can also be exported to the Script. Please note, that currently only <b>one base class is supported</b> (i.e. multiply derivation is not possible in the registry). In order to register a base class, use the usual C++-syntax:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>Base</div>
<div class="line"> </div>
<div class="line">class Derived : <span class="keyword">public</span> Base</div>
<div class="line">{</div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">virtual</span> ~Derived()  {}</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="group__scripts__util__table.html#ga8ceb72ba6d80f341922c4c0cc8522c4f">print</a>()</div>
<div class="line">    {</div>
<div class="line">      <a class="code" href="group__ugbase__common.html#ga849480b16e1d7c49266a92cd5db63942">UG_LOG</a>(<span class="stringliteral">&quot;Derived::print() called\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">};</div>
</div><!-- fragment --><p>Now, in registration, add the base class <b>without</b> constructor:</p>
<div class="fragment"><div class="line"><span class="comment">// registering base class (without constructor)</span></div>
<div class="line">reg.add_class_&lt;Base&gt;(<span class="stringliteral">&quot;Base&quot;</span>, grp)</div>
<div class="line">   .add_method(<span class="stringliteral">&quot;print&quot;</span>, &amp;<a class="code" href="group__scripts__util__table.html#ga8ceb72ba6d80f341922c4c0cc8522c4f">Base::print</a>);</div>
</div><!-- fragment --><p>When registering the Derived class, add also the Base class as a second template argument. </p><div class="fragment"><div class="line"><span class="comment">// registering derived class</span></div>
<div class="line">reg.add_class_&lt;Derived, Base&gt;(<span class="stringliteral">&quot;Derived&quot;</span>, grp)</div>
<div class="line">   .add_constructor();</div>
</div><!-- fragment --><hr  />
 <h1><a class="anchor" id="secSTHowToRegisterOverloadedFunctions"></a>
How to register Overloaded Functions</h1>
<p>When function is overloaded, the compiler can not find the function you want to register by only passing the method pointer. You have to explicitly specify the method signature to choose between the possibilities:</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> MyGlobalFunction(<span class="keywordtype">int</span> parameter1, <span class="keywordtype">int</span> parameter2);</div>
<div class="line"><span class="keywordtype">bool</span> MyGlobalFunction();</div>
</div><!-- fragment --><div class="fragment"><div class="line"><span class="comment">// register MyGlobalFunction overloads</span></div>
<div class="line">reg.add_function(<span class="stringliteral">&quot;MyGlobalFunction&quot;</span>, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span> (*)(<span class="keywordtype">int</span> parameter1, <span class="keywordtype">int</span> parameter2)<span class="keyword">&gt;</span>(&amp;MyGlobalFunction));</div>
<div class="line">reg.add_function(<span class="stringliteral">&quot;MyGlobalFunction&quot;</span>, <span class="keyword">static_cast&lt;</span><span class="keywordtype">bool</span> (*)()<span class="keyword">&gt;</span>(&amp;MyGlobalFunction));</div>
</div><!-- fragment --><hr  />
 <h1><a class="anchor" id="secSTHowToRegisterOverloadedMethods"></a>
How to register Overloaded Methods</h1>
<div class="fragment"><div class="line"><span class="keyword">class </span>Test</div>
<div class="line">{</div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">  <span class="comment">// ... something ...    </span></div>
<div class="line"> </div>
<div class="line">  <span class="comment">// overloaded functions</span></div>
<div class="line">    <span class="keywordtype">int</span> <a class="code" href="group__scripts__util__table.html#ga8ceb72ba6d80f341922c4c0cc8522c4f">print</a>()     {<a class="code" href="group__ugbase__common.html#ga849480b16e1d7c49266a92cd5db63942">UG_LOG</a>(<span class="stringliteral">&quot;Test::print()\n&quot;</span>); <span class="keywordflow">return</span> 0;}</div>
<div class="line">    <span class="keywordtype">int</span> <a class="code" href="group__scripts__util__table.html#ga8ceb72ba6d80f341922c4c0cc8522c4f">print</a>()<span class="keyword"> const </span>{<a class="code" href="group__ugbase__common.html#ga849480b16e1d7c49266a92cd5db63942">UG_LOG</a>(<span class="stringliteral">&quot;Test::print() const\n&quot;</span>); <span class="keywordflow">return</span> 1;}</div>
<div class="line">};</div>
</div><!-- fragment --><div class="fragment"><div class="line"><span class="comment">// register class &quot;Test&quot;</span></div>
<div class="line">reg.add_class_&lt;Test&gt;(<span class="stringliteral">&quot;Test&quot;</span>, grp)</div>
<div class="line">   .add_method(<span class="stringliteral">&quot;print&quot;</span>, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span>(Test::*)()<span class="keyword">&gt;</span>(&amp;<a class="code" href="group__scripts__util__table.html#ga8ceb72ba6d80f341922c4c0cc8522c4f">Test::print</a>))</div>
<div class="line">   .add_method(<span class="stringliteral">&quot;print&quot;</span>, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span>(Test::*)() const<span class="keyword">&gt;</span>(&amp;<a class="code" href="group__scripts__util__table.html#ga8ceb72ba6d80f341922c4c0cc8522c4f">Test::print</a>));</div>
</div><!-- fragment --><hr  />
 <h1><a class="anchor" id="secSTHowToRegisterOverloadedConstructors"></a>
How to register Overloaded Constructors</h1>
<p>Constructors with parameters and several (overloaded) Constructors are also possible. Since it is impossible to take the function pointer of a constructor the special method <code>add_constructor&lt;SignatureFunction&gt;(...)</code> must be used.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>Test</div>
<div class="line">{</div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    Test() { <a class="code" href="group__ugbase__common.html#ga849480b16e1d7c49266a92cd5db63942">UG_LOG</a>(<span class="stringliteral">&quot;Test::Test() constructor used.\n&quot;</span>)}</div>
<div class="line">    Test(<span class="keyword">const</span> <span class="keywordtype">char</span>* msg)</div>
<div class="line">    {</div>
<div class="line">      <a class="code" href="group__ugbase__common.html#ga849480b16e1d7c49266a92cd5db63942">UG_LOG</a>(<span class="stringliteral">&quot;Test::Test(const char*) constructor used.\n&quot;</span>)</div>
<div class="line">      <a class="code" href="group__ugbase__common.html#ga849480b16e1d7c49266a92cd5db63942">UG_LOG</a>(&quot;Message is: &#39;&quot;&lt;&lt;msg&lt;&lt;&quot;&#39;.\n&quot;);</div>
<div class="line">    }</div>
<div class="line">};</div>
</div><!-- fragment --><div class="fragment"><div class="line"><span class="comment">// register class &quot;Test&quot;</span></div>
<div class="line">reg.add_class_&lt;Test&gt;(<span class="stringliteral">&quot;Test&quot;</span>, grp)</div>
<div class="line">   .add_constructor()</div>
<div class="line">   .template add_constructor&lt;void (*)(const char*)&gt;(<span class="stringliteral">&quot;Message&quot;</span>);</div>
</div><!-- fragment --><p>The template argument of the <code>add_constructor</code> method must be a global function pointer with void return value. The signature of the function pointer type is used to get the arguments of the constructor. In total these informations can be passed when registering a constructor:</p>
<div class="fragment"><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> TFunc&gt;</div>
<div class="line">ExportedClass&lt;TClass&gt;&amp; add_constructor(std::string paramInfos = <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line">                                       std::string tooltip = <span class="stringliteral">&quot;&quot;</span>, std::string help = <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line">                                       std::string options = <span class="stringliteral">&quot;&quot;</span>)</div>
</div><!-- fragment --><ul>
<li><code>paramInfos</code> &mdash; a list of parameter names (and options) separated by '<code>#</code>' (see above) </li>
<li><code>tooltip</code> &mdash; some information about the usage of the constructor </li>
<li><code>help</code> &mdash; help informations </li>
<li><code>options</code> &mdash; style option of the constructor itself (for visualisation) </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="index.html">ug4 - Documentation</a></li><li class="navelem"><a class="el" href="page_u_g4_development.html">Development</a></li>
    <li class="footer">Generated on Mon Feb 5 2024 00:55:23 for ug4 by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
