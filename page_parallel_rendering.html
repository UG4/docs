<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ug4: Parallel Rendering</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="extra_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ug4
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('page_parallel_rendering.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Parallel Rendering </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#secParallelRenderingGeneral">General Information about Parallel Rendering</a></li>
<li class="level1"><a href="#secParallelRenderingWithParaView">Parallel Rendering with ParaView</a></li>
</ul>
</div>
<div class="textblock"><hr  />
 <h1><a class="anchor" id="secParallelRenderingGeneral"></a>
General Information about Parallel Rendering</h1>
<hr  />
<ul>
<li>
<p class="startli">There are at least two advantages of the approach introduced in the following: You can utilise the processing power of a parallel machine to render (very) huge data sets, and, if you utilise the same parallel machine which you've used to generate these data sets as "rendering server" also there is no need to transfer the data e.g. on your local workplace computer solely for the purpose of visualisation. </p>
<p class="endli"></p>
</li>
</ul>
<hr  />
 <h1><a class="anchor" id="secParallelRenderingWithParaView"></a>
Parallel Rendering with ParaView</h1>
<hr  />
<p><b>Prerequisites</b>: <a href="http://paraview.org/">ParaView</a> (client) is installed on your local machine, and ParaView (server; with MPI support) is installed on the machine which is intended as rendering server.</p>
<dl class="section note"><dt>Note</dt><dd>It is important that the version of the client match that of the server!</dd></dl>
<p>For a local installation of ParaView on the rendering server see <a class="el" href="page_additional_software.html#secInstallParaView">Installation of ParaView (optional)</a>.</p>
<p>This mode of running ParaView is also called "Client-Server mode". In client-server mode, one executes the <code>pvserver</code> program on a parallel machine and establish a connection with the ParaView client application on your local workspace computer.</p>
<p>In the following we describe the steps necessary for establishing a so called <b>"reverse connection"</b> (i.e., the server connects to the client instead of that the client connects to the server) from the client running on your local machine to the server running on <em>Cekon</em>, so the recommended way is to <em>start the local client first</em>, and <em>afterwards the remote server</em> (otherwise you might get error messages that the connection was refused; nevertheless it is possible to connect if you are fast enough to start and configure the client (see steps 1 and 2 below) also in this case since the server retries for about one minute to establish a connection to the client).</p>
<ol>
<li>
<p class="startli">Start the ParaView program on your local machine as usual. This process is the ParaView <b>client</b>. </p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Then choose "File -- Connect" (or click the "Connect" icon in the clients toolbar).</p>
<p class="interli">In the "Choose Server Configuration" dialog window popping up click "Add Server" (window title changes to "Edit Server Configuration").</p>
<p class="interli">Fill in the necessary information to define a connection with the ParaView server running on <em>Cekon</em> (the following steps are only necessary for the first time you add a specific server):</p>
<ul>
<li>
Name: "cekon" (only descriptive; this is the name that will appear in the "Choose Server Configuration" dialog you can use after finishing this setup for all subsequent connection attempts), </li>
<li>
Server Type: "Client / Server (reverse Connection)", </li>
<li>
Port: "11111" (this is the default port; see below for use of other ports). </li>
</ul>
<p>Then click "Configure" and choose "Startup Type": "Manual". Click "Save".</p>
<p class="endli">Select the (newly defined) server and click "Connect". A small window appears saying "Establishing connection to 'cekon'", "Waiting for server to connect."  &lt;&ndash;! Note that the client does not need the servers hostname / address since the client is the active one in establishing the connection. So, the statement in the "Name" field is (and can be) just descriptive. On the other side, if a "forward connection" should be established and where the client connects to the server one has to specify the server by stating its hostname - which can be done in an additional field. --&gt; </p>
</li>
<li>
<p class="startli">Login to <em>Cekon</em> via ssh and start the ParaView <b>server</b> program, <code>pvserver</code> (installed system-wide in this example; you might want to use your own version installed locally to meet the version match mentioned above), specifying that your local machine act as the "client host" (the parameter <code>-ch</code> specifies the "client host"; the option <code>-rc</code> stands for "reverse connection"): </p><div class="fragment"><div class="line">salloc -n &lt;NP&gt; mpirun /usr/<a class="code" href="namespaceug_1_1detail.html#a846ed8ea114ba03ffdf4c69f2b7fd5ea">local</a>/bin/pvserver -ch=&lt;yourlocalhost&gt;.gcsc.uni-frankfurt.de -rc --use-offscreen-rendering</div>
<div class="ttc" id="anamespaceug_1_1detail_html_a846ed8ea114ba03ffdf4c69f2b7fd5ea"><div class="ttname"><a href="namespaceug_1_1detail.html#a846ed8ea114ba03ffdf4c69f2b7fd5ea">ug::detail::local</a></div><div class="ttdeci">int local(bglp_vertex_descriptor p)</div><div class="ttdef"><b>Definition:</b> parallel_matrix.h:57</div></div>
</div><!-- fragment --><p class="interli">If the server is able to establish the connection to the client it ouputs something like the following: </p><div class="fragment"><div class="line">salloc -n 16 mpirun /usr/<a class="code" href="namespaceug_1_1detail.html#a846ed8ea114ba03ffdf4c69f2b7fd5ea">local</a>/bin/pvserver -ch=clever.gcsc.uni-frankfurt.de -rc --use-offscreen-rendering</div>
<div class="line">salloc: Granted job allocation 21861</div>
<div class="line">Connecting to client (reverse connection requested)...</div>
<div class="line">Connection URL: csrc:<span class="comment">//clever.gcsc.uni-frankfurt.de:11111</span></div>
<div class="line">Client connected.</div>
</div><!-- fragment --><p class="interli"></p>
<p class="endli"></p>
</li>
<li>
<p class="startli">In the "Pipeline Browser" of your client now a <b>symbol for the server</b> you are connected with is visible (instead of the "builtin" server symbol for the local machine on which ParaView (client) is running).</p>
<p class="interli">Now you are ready to load data located on the <em>servers</em> filesystem, <em>not</em> on your local filesystem, i.e., the "File - Open" dialog makes the servers filesystem accesible. </p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Open a file with data to be visualised and setup your Visualisation Pipeline as usual, and do your visualisation work. </p>
<p class="endli"></p>
</li>
<li>
When finished, click the "Disconnect" icon in the clients toolbar - the server process exits automatically, and the server symbol in the clients "Pipeline Browser" is replaced by the (usual) "builtin" server symbol so that all subsequent load commands access the local filesystem (again).  </li>
</ol>
<p>If a ParaView server is already running and listening at the default port, <code>11111</code> (or if this port is blocked by a firewall etc.), you have to start the server with the additional parameter <code>&ndash;server-port=&lt;portnumber&gt;</code> where <code>&lt;portnumber&gt;</code> is a free (non-default) port number (and of course you have to take this number into account in the "Connection URL" field described above).</p>
<p>&lt;&ndash;! A "reverse connection" might be necessary in cases where the server lies behind a firewall etc.--&gt;</p>
<p>For some further documentation see e.g.: </p><ul>
<li>
<a href="http://www.paraview.org/Wiki/Setting_up_a_ParaView_Server#Running_the_Server">http://www.paraview.org/Wiki/Setting_up_a_ParaView_Server#Running_the_Server</a> , </li>
<li>
<a href="http://www.vtk.org/Wiki/Setting_up_a_ParaView_Server">http://www.vtk.org/Wiki/Setting_up_a_ParaView_Server</a> , </li>
<li>
<a href="http://www.fz-juelich.de/ias/jsc/EN/Expertise/Support/Visualization/ScientificVisualization/JUVIS/_node.html">http://www.fz-juelich.de/ias/jsc/EN/Expertise/Support/Visualization/ScientificVisualization/JUVIS/_node.html</a> , </li>
<li>
<a href="http://www.fz-juelich.de/ias/jsc/EN/Expertise/Support/Visualization/ScientificVisualization/JUVIS/SampleSessionLocalRender.html">http://www.fz-juelich.de/ias/jsc/EN/Expertise/Support/Visualization/ScientificVisualization/JUVIS/SampleSessionLocalRender.html</a> . </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="index.html">ug4 - Documentation</a></li><li class="navelem"><a class="el" href="page_u_g4_usage.html">Usage</a></li><li class="navelem"><a class="el" href="page_u_g4_parallel_usage.html">Parallel Usage</a></li>
    <li class="footer">Generated on Mon Sep 4 2023 00:53:24 for ug4 by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
