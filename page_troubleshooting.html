<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ug4: Troubleshooting</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="extra_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ug4
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('page_troubleshooting.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Troubleshooting </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#troubleshooting_compiler_errors">Known Internal Compiler Errors</a><ul><li class="level2"><a href="#secLLVM3_3">llvm/clang 3.3</a></li>
<li class="level2"><a href="#secCMake_GCC412">GCC 4.1.2</a></li>
</ul>
</li>
<li class="level1"><a href="#troubleshootingCompiling">Problems with Compiling</a><ul><li class="level2"><a href="#troubleshooting_cant_compile_or_link">Can not compile or link</a></li>
<li class="level2"><a href="#troubleshooting_ugshell_old_cmake">can&#39;t set up with cmake</a></li>
<li class="level2"><a href="#troubleshooting_ugshell_registry_errors">ugshell crashes on startup with registry errors</a></li>
<li class="level2"><a href="#troubleshooting_compile_plugin_diff_config">Compiling plugin with different configuration Plugin initialization shows error</a></li>
</ul>
</li>
<li class="level1"><a href="#troubleshootingParallel">Parallel execution</a><ul><li class="level2"><a href="#troubleshooting_multiple_parallel_output">Output appears multiple times</a></li>
</ul>
</li>
<li class="level1"><a href="#troubleshootingOther">Other</a><ul><li class="level2"><a href="#troubleshooting_cant_find_scripts">Can&#39;t find [ugsubmit/ugrelib/cdug etc.]</a></li>
<li class="level2"><a href="#troubleshooting_SVN">I have a problem with SVN</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p>This file is intended for troubleshooting. Please provide information about as much errors as possible. It might be a very stupid error for you, but there's a high chance someone else has the same problem and spends hours on solving it.</p>
<hr  />
 <h1><a class="anchor" id="troubleshooting_compiler_errors"></a>
Known Internal Compiler Errors</h1>
<hr  />
<p> There are some compiler versions which fail to compile ug4 because of bugs in the compilers: </p>
<h2><a class="anchor" id="secLLVM3_3"></a>
llvm/clang 3.3</h2>
<p>Internal Compiler Bug: Impossible TemplateArgument UNREACHABLE executed at TypeLoc.cpp:335.</p>
<p>Solution: llvm/clang 3.4.</p>
<h2><a class="anchor" id="secCMake_GCC412"></a>
GCC 4.1.2</h2>
<p><em>GCC v. 4.1.2</em>, like it is default on <em>cekon</em>, is not able to compile a debug build (i.e. configured with <code>cmake -DDEBUG=ON ..</code>) because of an internal compiler error (<code>internal compiler error: in force_type_die, at dwarf2out.c...</code>). The error seems also to be there on gcc 4.3. In this case it is possible to configure <b>ug4</b> by specifying <em>GCC v. 4.4.4</em>, which is also installed on <em>cekon</em> as an alternative compiler: </p><pre class="fragment">cmake -DCMAKE_CXX_COMPILER=/usr/bin/g++44 ..
</pre><p>Alternatively one can instruct the (default) compiler to produce the debug infos in <a href="http://gcc.gnu.org/ml/gcc/2001-04/msg01028.html">another format</a>. To do so, call <em>CMake</em> with </p><pre class="fragment">cmake -DDEBUG_FORMAT=-gstabs ..
</pre><p>This sets <em>STABS</em> as format of debug infos.</p>
<p>If you need to choose another compiler, please consider writing your own toolchain file, so others can benefit from your knowledge.</p>
<hr  />
 <h1><a class="anchor" id="troubleshootingCompiling"></a>
Problems with Compiling</h1>
<hr  />
<h2><a class="anchor" id="troubleshooting_cant_compile_or_link"></a>
Can not compile or link</h2>
<dl>
<dt>Symptoms </dt>
<dd><ul>
<li>You can't compile/link your program</li>
<li>"dyld: lazy symbol binding failed: Symbol not found" (link error)</li>
<li>"duplicate symbol" (link error)  </li>
</ul>
</dd>
<dt>Possible Cause </dt>
<dd><ul>
<li>Part of <b>ug4</b> compiled with one cmake setting, other part compiled with another.</li>
<li>OR Wrong settings in CMake, missing libraries, wrong library paths.</li>
<li>If the problem persists, copy/paste all your console output and email it to someone.  </li>
</ul>
</dd>
<dt>Solution </dt>
<dd>If you can't compile your program, it is sometimes a good idea to recompile or relink parts of <b>ug4</b>. Try the following:<ul>
<li>use <code>ugrelib</code> (that is: delete ug4/bin/ugshell, ug4/lib/*, ug4/bin/plugins/*), recompile.</li>
<li>If that doesn't work, also do a <code>make clean</code> and a make.</li>
<li>If that doesn't work, also reset your build configuration by deleting your build directory (e.g. <code>ug4/debug</code>). You will have to redo a <code>cmake ..</code> and reenter all your <em>CMake</em> parameters like <code>-DDIM</code> and plugins.</li>
<li>If that doesn't help, it may be a problem with external libraries. Read the error line. Memorize the error message. Think about it. Does it complain about something with MPI or any library you know? If there are filepaths or filenames, are they correct? Where do they point to?  </li>
</ul>
</dd>
</dl>
<h2><a class="anchor" id="troubleshooting_ugshell_old_cmake"></a>
can't set up with cmake</h2>
<dl>
<dt>Symptoms </dt>
<dd><em>cmake</em> prints "parse error in cache file" and "offending entry", later won't compile or link </dd>
<dt>Possible Causes </dt>
<dd>CMake too old. Minimum version is 2.8.6.  </dd>
<dt>Solution </dt>
<dd>Update your cmake version. For this, you can use <code>uginstall cmake</code>.  </dd>
</dl>
<h2><a class="anchor" id="troubleshooting_ugshell_registry_errors"></a>
ugshell crashes on startup with registry errors</h2>
<dl>
<dt>Symptoms </dt>
<dd><em>ugshell</em> keeps crashing on startup with registry errors </dd>
<dt>Possible Causes </dt>
<dd>A plugin might got renamed or deleted and <em>CMake</em> is not able to detect previous and not deprecated library files in <code>ug4/bin/plugins</code>.  </dd>
<dt>Solution </dt>
<dd>Delete the content of <code>ug4/bin/plugins</code>, reconfigure (i.e. run <em>CMake</em> in your build directory) and recompile <b>ug4</b>.  </dd>
</dl>
<h2><a class="anchor" id="troubleshooting_compile_plugin_diff_config"></a>
Compiling plugin with different configuration Plugin initialization shows error</h2>
<dl>
<dt>Symptoms </dt>
<dd><pre class="fragment">*** glibc detected *** gravtree: corrupted double-linked list: 0x000000001aa0fc50 ***</pre>  </dd>
<dt>Cause </dt>
<dd>Compiling plugin seperately with different configurations </dd>
<dt>Solution </dt>
<dd>Delete contents <code>ug4/bin/plugins</code> of directory. Use the <code>-D[pluginname]</code> option of cmake. Recompile <b>ug4</b>.  </dd>
</dl>
<hr  />
 <h1><a class="anchor" id="troubleshootingParallel"></a>
Parallel execution</h1>
<hr  />
<h2><a class="anchor" id="troubleshooting_multiple_parallel_output"></a>
Output appears multiple times</h2>
<dl>
<dt>Symptoms </dt>
<dd>Parallel output appears multiple times even though <code>-outproc 0</code> was chosen. </dd>
<dt>Possible Cause  </dt>
<dd><b>ug4</b> was not compiled with <code>UG_PARALLEL</code>. Try to use <code><a class="el" href="group__misc__bridge.html#ga4b122584495e7c7ef0658b28c0a08fc9" title="prints CMake build parameters in a quite compact (pairwise) form">PrintBuildConfiguration()</a></code> in LUA/ugshell or enter <code>cmake ..</code> in your build dir. There you should get <code>PARALLEL: ON</code>.  </dd>
<dt>Solution </dt>
<dd>Enter <code>cmake -DPARALLEL=ON ..</code>. If you get errors that MPI could not be found, ask someone.  </dd>
</dl>
<hr  />
 <h1><a class="anchor" id="troubleshootingOther"></a>
Other</h1>
<hr  />
<h2><a class="anchor" id="troubleshooting_cant_find_scripts"></a>
Can't find [ugsubmit/ugrelib/cdug etc.]</h2>
<dl>
<dt>Symptoms </dt>
<dd>You want to run e.g. ugsubmit, but it says it is not found </dd>
<dt>Solution </dt>
<dd>All bash script extensions of ug are located in ug4/scripts/shell, go to <a class="el" href="page_bash_tools.html">BASH Tools</a> to learn more.  </dd>
</dl>
<h2><a class="anchor" id="troubleshooting_SVN"></a>
I have a problem with SVN</h2>
<p>See secSVNTroubleshooting. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="index.html">ug4 - Documentation</a></li>
    <li class="footer">Generated on Mon Nov 6 2023 00:55:23 for ug4 by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
